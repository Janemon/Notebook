# 什么是正则表达式  

<mark>其是一种特殊的字符串模式，用于匹配一组字符串。</mark>  
<mark>NOTE:</mark> 但是不同的工具对正则表达式的实现方法不完全一致。  

---------------------------------------------------------------------  

### 字符组  
<mark>Example: **707-702-7198**</mark>

1 比如，我们可以用 `[0-9]` 来匹配数字。而类似这种表达式就是 character set. 其中，`[` 在 regex 中是 metacharacter, 不参与匹配。  

2 字符组对里面的字符范围可以进行无限次数匹配, 因为我们要处理的字符是一个**set**。  

3 当然，我们可以不用 `-` 而可以更具体，比如：`[0123456789]`  

4 <mark>字符组的简写形式</mark>: 比如， `\d` 和 `[0-9]` 是一样的，而这种表达式叫做 **character shorthand** or **character escape**.  

5 根据上面讲的，我们可以这样匹配例子： `\d\d\d-\d\d\d-\d\d\d\d`, 其中 `-` 是 literal value 会原样匹配字符。 当然有多种形式可以匹配了，比如： `\d\d\d\D\d\d\d\D\d\d\d\d` 其中 `\D` 表示的是非数字。还有这种 `\d\d\d.\d\d\d.\d\d\d\d` 其中 **`.`** 是一个通配符， **可以匹配任何单个字符（除了不能匹配换行符）**  

6 <mark>捕获分组：</mark>使用 `()`来 capturing group, 前面都是针对单个字符，但这个针对多个字符的，可以更方便的使用量词，来化简表达式！当是现在我们还只是来分组而已并没有进行**捕获**.  

7 <mark>使用量词：</mark>前面的都过于复杂了，我们可以使用 quantifier 来进行化简： `\d{3}-?\d{3}-?d{4}` 其中`{}` 花括号是一种 量词，而其本身也是 matacharacter。其中`{min，max}` 表示量词的范围，不像`[min-max]` 使用 `-`而是使用`,`。还有其他量词，比如：`?`表示零个或者一个, `+`表示一个或者多个, `*`表示任意个（就是0个或者多个）。 我们还可以用这个来表示：`(\d{3}[.-]?){2}\d{4}` 注意其中在 `[]` 里面的 **`.`** <mark>就是字符组里面的一个字符，而不是通配符.</mark>  

8 `^` 和 `$` 代表的是匹配字符的开头与结束, 注意的是，这个不在字符组里面再是这个意思，如果是在字符组表达式中`^`代表的是字符组取反，比如这个`[^0-9]`代表的是匹配除了这个字符组的所有内容。 `\` 代表的是转义字符，能够吧那些 meta character 转换成普通字符或者把普通字符转换成特殊字符。  

---------------------------------------------------------------------  

### 简单的模式匹配  

1 匹配单词和非单词： `\w` 匹配所有**单词字符** 等价于 `[_a-zA-Z0-9]`, 注意里面有连字符和数字。当然 `\W` 是匹配非字符 等价于 `[^_a-zA-Z0-9]`. `\b`代表的是**找到一个单词边界，而不去匹配任何字符**  

2 匹配空白符： `\s` 等价于 `[^ \t\n\r]` 其中为空格，制表符，换行符，还有回车符。 当然匹配非空字符为 `\S`  

---------------------------------------------------------------------  

### 边界  

1 其实寻找边界的行为叫做**断言**, 因为他不消耗字符所以又叫做**零宽度断言**

2 像`^` and `$` 都叫做**锚位符**,  

---------------------------------------------------------------------  

### 选择与分组  

1 选择模式是在多个可选模式中匹配一个，**`|`** 比如： `(the|THE|The)` 可把一篇文章中所有的 关于 `the` 形式的单词匹配了。  

2 subpattern 就是匹配模式中的模式，有些子模式需要前面的模式匹配了才能执行他，而有些则不需要。比如前面的 `(the|THE|The)` 其中 the 是第一个子模式，THE 是第二个子模式，The 是第三个子模式，尽管匹配优先从左边开始，但是如果第一个没有匹配并不影响下一个。而有些则需要前面的子模式也能执行才能继续，比如：<mark>`/(t|T)h(e|eir)/gm`</mark>
